basePath: /api
definitions:
  apperror.AppError:
    properties:
      code:
        type: integer
      error_code:
        description: Machine-readable error code
        type: string
      message:
        type: string
    type: object
  dto.AssignUserToOrganizationRequest:
    properties:
      is_active:
        example: true
        type: boolean
      organization_id:
        example: b1c2d3e4-f5g6-7890-1234-567890abcdef
        type: string
      role_id:
        example: c1d2e3f4-g5h6-7890-1234-567890abcdef
        type: string
      user_id:
        example: a1b2c3d4-e5f6-7890-1234-567890abcdef
        type: string
    required:
    - organization_id
    - user_id
    type: object
  dto.BulkAssignError:
    properties:
      error:
        example: User already assigned to organization
        type: string
      user_id:
        example: d3e4f5g6-h7i8-9012-3456-789012cdefgh
        type: string
    type: object
  dto.BulkAssignResponse:
    properties:
      assignments:
        items:
          $ref: '#/definitions/dto.UserOrganizationResponse'
        type: array
      errors:
        items:
          $ref: '#/definitions/dto.BulkAssignError'
        type: array
      failure_count:
        example: 1
        type: integer
      message:
        example: 5 users assigned successfully, 1 failed
        type: string
      success_count:
        example: 5
        type: integer
    type: object
  dto.BulkAssignUsersToOrganizationRequest:
    properties:
      organization_id:
        example: c1d2e3f4-g5h6-7890-1234-567890abcdef
        type: string
      role_id:
        example: d1e2f3g4-h5i6-7890-1234-567890abcdef
        type: string
      user_ids:
        example:
        - '["a1b2c3d4-e5f6-7890-1234-567890abcdef"'
        - ' "b2c3d4e5-f6g7-8901-2345-678901bcdefg"]'
        items:
          type: string
        minItems: 1
        type: array
    required:
    - organization_id
    - user_ids
    type: object
  dto.CompleteOrganizationStructureResponse:
    properties:
      company_id:
        type: string
      holding_id:
        type: string
      message:
        type: string
      organizations:
        items:
          $ref: '#/definitions/dto.OrganizationResponse'
        type: array
      store_id:
        type: string
      user_assigned_to:
        type: string
      user_memberships:
        items:
          $ref: '#/definitions/dto.UserOrganizationResponse'
        type: array
      user_role:
        type: string
    type: object
  dto.CreateCompleteStructureRequest:
    properties:
      company_description:
        type: string
      company_name:
        maxLength: 100
        minLength: 3
        type: string
      holding_description:
        description: Optional descriptions
        type: string
      holding_name:
        description: Organization structure
        maxLength: 100
        minLength: 3
        type: string
      store_description:
        type: string
      store_name:
        maxLength: 100
        minLength: 3
        type: string
      user_id:
        description: User information
        type: string
      user_role:
        enum:
        - holding_owner
        - company_manager
        - store_manager
        type: string
    required:
    - company_name
    - holding_name
    - store_name
    - user_id
    - user_role
    type: object
  dto.CreateOrganizationRequest:
    properties:
      description:
        maxLength: 500
        type: string
      name:
        maxLength: 100
        minLength: 3
        type: string
      parentOrganizationId:
        type: string
      type:
        enum:
        - platform
        - holding
        - company
        - store
        type: string
    required:
    - name
    - type
    type: object
  dto.CreatePermissionRequest:
    properties:
      description:
        maxLength: 255
        type: string
      name:
        maxLength: 100
        minLength: 3
        type: string
    required:
    - name
    type: object
  dto.CreateRoleRequest:
    properties:
      description:
        maxLength: 255
        type: string
      level:
        description: Level 100 reserved for superadmin
        maximum: 99
        minimum: 0
        type: integer
      name:
        maxLength: 50
        minLength: 3
        type: string
      organization_types:
        description: Organization context
        items:
          type: string
        type: array
      predefined_name:
        description: 'NEW: Android-style name'
        maxLength: 50
        minLength: 3
        type: string
    required:
    - level
    - name
    - predefined_name
    type: object
  dto.CreateUserRequest:
    properties:
      auth_provider:
        description: Authentication method
        enum:
        - local
        - google
        example: local
        type: string
      email:
        example: new.user@example.com
        type: string
      google_id:
        description: Google OAuth ID
        example: "110539596352895004866"
        type: string
      password:
        description: Optional for OAuth users
        example: strongpassword123
        minLength: 8
        type: string
      role_id:
        example: b1c2d3e4-f5g6-7890-1234-567890abcdef
        type: string
      username:
        example: newuser
        minLength: 3
        type: string
    required:
    - email
    - role_id
    - username
    type: object
  dto.JoinOrganizationRequest:
    properties:
      organization_code:
        type: string
    required:
    - organization_code
    type: object
  dto.LogUserOrganizationActionRequest:
    properties:
      action:
        enum:
        - assigned
        - removed
        - role_updated
        - status_changed
        example: assigned
        type: string
      new_role:
        example: admin
        type: string
      new_status:
        example: true
        type: boolean
      organization_id:
        example: b1c2d3e4-f5g6-7890-1234-567890abcdef
        type: string
      previous_role:
        example: user
        type: string
      previous_status:
        example: false
        type: boolean
      reason:
        example: Manual role update by administrator
        type: string
      user_id:
        example: a1b2c3d4-e5f6-7890-1234-567890abcdef
        type: string
    required:
    - action
    - organization_id
    - user_id
    type: object
  dto.LoginRequest:
    properties:
      password:
        example: password
        type: string
      username:
        example: admin
        type: string
    required:
    - password
    - username
    type: object
  dto.LoginResponse:
    properties:
      access_token:
        example: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
        type: string
      message:
        example: Login successful
        type: string
      permissions:
        items:
          type: string
        type: array
      user:
        allOf:
        - $ref: '#/definitions/dto.UserResponse'
        description: Menggunakan UserResponse DTO
    type: object
  dto.OrganizationResponse:
    properties:
      child_organizations:
        items:
          $ref: '#/definitions/dto.OrganizationResponse'
        type: array
      code:
        type: string
      created_at:
        type: string
      created_by:
        type: string
      creator:
        $ref: '#/definitions/dto.UserResponse'
      description:
        type: string
      id:
        type: string
      is_active:
        type: boolean
      member_count:
        type: integer
      name:
        type: string
      organization_type:
        type: string
      parent_organization:
        $ref: '#/definitions/dto.OrganizationResponse'
      parent_organization_id:
        type: string
      updated_at:
        type: string
    type: object
  dto.OrganizationStatisticsResponse:
    properties:
      company_count:
        type: integer
      holding_count:
        type: integer
      platform_count:
        type: integer
      store_count:
        type: integer
    type: object
  dto.PagedUserOrganizationHistoryResponse:
    properties:
      history:
        items:
          $ref: '#/definitions/dto.UserOrganizationHistoryResponse'
        type: array
      limit:
        example: 10
        type: integer
      page:
        example: 1
        type: integer
      total:
        example: 25
        type: integer
      total_pages:
        example: 3
        type: integer
    type: object
  dto.PagedUserOrganizationResponse:
    properties:
      limit:
        example: 10
        type: integer
      page:
        example: 1
        type: integer
      total:
        example: 25
        type: integer
      total_pages:
        example: 3
        type: integer
      user_organizations:
        items:
          $ref: '#/definitions/dto.UserOrganizationResponse'
        type: array
    type: object
  dto.PagedUserResponse:
    properties:
      limit:
        example: 10
        type: integer
      page:
        example: 1
        type: integer
      total:
        example: 100
        type: integer
      total_pages:
        example: 10
        type: integer
      users:
        items:
          $ref: '#/definitions/dto.UserResponse'
        type: array
    type: object
  dto.PermissionResponse:
    properties:
      created_at:
        type: string
      description:
        type: string
      id:
        type: string
      name:
        type: string
      updated_at:
        type: string
    type: object
  dto.PredefinedRoleOption:
    properties:
      description:
        type: string
      level:
        type: integer
      name:
        type: string
    type: object
  dto.RefreshTokenResponse:
    properties:
      access_token:
        example: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
        type: string
    type: object
  dto.RoleResponse:
    properties:
      description:
        type: string
      id:
        type: string
      is_active:
        description: 'NEW: Role activation status'
        type: boolean
      is_system_role:
        description: 'NEW: System role protection'
        type: boolean
      level:
        description: 'NEW: Hierarchy level'
        type: integer
      name:
        type: string
      organization_types:
        description: Organization context
        items:
          type: string
        type: array
      permissions:
        items:
          type: string
        type: array
      predefined_name:
        description: 'NEW: Android-style name'
        type: string
    type: object
  dto.SwitchOrganizationRequest:
    properties:
      organization_id:
        example: 550e8400-e29b-41d4-a716-446655440000
        type: string
    required:
    - organization_id
    type: object
  dto.SwitchOrganizationResponse:
    properties:
      access_token:
        example: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
        type: string
      message:
        example: Organization context switched successfully
        type: string
      organization_id:
        example: 550e8400-e29b-41d4-a716-446655440000
        type: string
    type: object
  dto.UpdateOrganizationRequest:
    properties:
      description:
        maxLength: 500
        type: string
      is_active:
        type: boolean
      name:
        maxLength: 100
        minLength: 3
        type: string
    type: object
  dto.UpdatePermissionRequest:
    properties:
      description:
        maxLength: 255
        type: string
      name:
        maxLength: 100
        minLength: 3
        type: string
    required:
    - name
    type: object
  dto.UpdateRolePermissionsRequest:
    properties:
      permission_names:
        description: A list of permission names to assign to the role.
        items:
          type: string
        type: array
    type: object
  dto.UpdateRoleRequest:
    properties:
      description:
        maxLength: 255
        type: string
      level:
        description: Level 100 reserved for superadmin
        maximum: 99
        minimum: 0
        type: integer
      name:
        maxLength: 50
        minLength: 3
        type: string
      organization_types:
        description: Organization context
        items:
          type: string
        type: array
      predefined_name:
        description: Android-style name
        maxLength: 50
        minLength: 3
        type: string
    required:
    - level
    - name
    - predefined_name
    type: object
  dto.UpdateUserOrganizationRequest:
    properties:
      is_active:
        example: true
        type: boolean
      role_id:
        example: c1d2e3f4-g5h6-7890-1234-567890abcdef
        type: string
    type: object
  dto.UpdateUserRequest:
    properties:
      email:
        example: updated.user@example.com
        type: string
      role_id:
        example: c1d2e3f4-g5h6-7890-1234-567890abcdef
        type: string
      username:
        example: updateduser
        minLength: 3
        type: string
    type: object
  dto.UserOrganizationHistoryResponse:
    properties:
      action:
        example: assigned
        type: string
      action_at:
        example: "2024-01-15T10:30:00Z"
        type: string
      action_by:
        example: f5g6h7i8-j9k0-1234-5678-901234efghij
        type: string
      id:
        example: e4f5g6h7-i8j9-0123-4567-890123defghi
        type: string
      new_role:
        example: admin
        type: string
      organization_id:
        example: b1c2d3e4-f5g6-7890-1234-567890abcdef
        type: string
      previous_role:
        example: member
        type: string
      reason:
        example: Promoted to admin role
        type: string
      user_id:
        example: a1b2c3d4-e5f6-7890-1234-567890abcdef
        type: string
    type: object
  dto.UserOrganizationResponse:
    properties:
      is_active:
        type: boolean
      joined_at:
        type: string
      organization:
        $ref: '#/definitions/dto.OrganizationResponse'
      organization_id:
        type: string
      role:
        $ref: '#/definitions/dto.RoleResponse'
      role_id:
        type: string
      user_id:
        type: string
    type: object
  dto.UserResponse:
    properties:
      auth_provider:
        description: Authentication method
        example: local
        type: string
      avatar_url:
        example: https://example.com/avatar.png
        type: string
      email:
        example: john.doe@example.com
        type: string
      id:
        example: a1b2c3d4-e5f6-7890-1234-567890abcdef
        type: string
      organization_id:
        example: c1d2e3f4-g5h6-7890-1234-567890abcdef
        type: string
      role:
        example: user
        type: string
      role_id:
        example: b1c2d3e4-f5g6-7890-1234-567890abcdef
        type: string
      username:
        example: johndoe
        type: string
    type: object
info:
  contact: {}
  description: This is the API documentation for the Go Base Project backend.
  title: Go Base Project API
  version: "1.0"
paths:
  /admin/organizations:
    post:
      consumes:
      - application/json
      description: Creates a new organization. Requires platform level permissions.
      parameters:
      - description: Organization Details
        in: body
        name: organization
        required: true
        schema:
          $ref: '#/definitions/dto.CreateOrganizationRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Organization created successfully
          schema:
            $ref: '#/definitions/dto.OrganizationResponse'
        "400":
          description: Invalid request payload
          schema:
            $ref: '#/definitions/apperror.AppError'
        "403":
          description: Insufficient permissions
          schema:
            $ref: '#/definitions/apperror.AppError'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/apperror.AppError'
      security:
      - BearerAuth: []
      summary: Create a new organization
      tags:
      - Admin
      - Organizations
  /admin/organizations/{id}:
    delete:
      consumes:
      - application/json
      description: Deletes an organization. Requires platform level permissions.
      parameters:
      - description: Organization ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "204":
          description: Organization deleted successfully
        "400":
          description: Invalid request
          schema:
            $ref: '#/definitions/apperror.AppError'
        "403":
          description: Insufficient permissions
          schema:
            $ref: '#/definitions/apperror.AppError'
        "404":
          description: Organization not found
          schema:
            $ref: '#/definitions/apperror.AppError'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/apperror.AppError'
      security:
      - BearerAuth: []
      summary: Delete organization
      tags:
      - Admin
      - Organizations
    put:
      consumes:
      - application/json
      description: Updates organization details. Requires admin permissions for the
        organization.
      parameters:
      - description: Organization ID
        in: path
        name: id
        required: true
        type: string
      - description: Updated Organization Details
        in: body
        name: organization
        required: true
        schema:
          $ref: '#/definitions/dto.UpdateOrganizationRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Organization updated successfully
          schema:
            $ref: '#/definitions/dto.OrganizationResponse'
        "400":
          description: Invalid request payload
          schema:
            $ref: '#/definitions/apperror.AppError'
        "403":
          description: Insufficient permissions
          schema:
            $ref: '#/definitions/apperror.AppError'
        "404":
          description: Organization not found
          schema:
            $ref: '#/definitions/apperror.AppError'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/apperror.AppError'
      security:
      - BearerAuth: []
      summary: Update organization
      tags:
      - Admin
      - Organizations
  /admin/organizations/{id}/members:
    get:
      consumes:
      - application/json
      description: Retrieves all members of an organization
      parameters:
      - description: Organization ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Organization members retrieved successfully
          schema:
            items:
              $ref: '#/definitions/dto.UserOrganizationResponse'
            type: array
        "400":
          description: Invalid organization ID
          schema:
            $ref: '#/definitions/apperror.AppError'
        "403":
          description: Insufficient permissions
          schema:
            $ref: '#/definitions/apperror.AppError'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/apperror.AppError'
      security:
      - BearerAuth: []
      summary: Get organization members
      tags:
      - Admin
      - Organizations
  /admin/organizations/{organizationId}/members:
    get:
      description: Retrieves all members of an organization with pagination. Requires
        'organizations:read-members' permission.
      parameters:
      - description: Organization ID
        format: uuid
        in: path
        name: organizationId
        required: true
        type: string
      - default: 1
        description: Page number
        in: query
        minimum: 1
        name: page
        type: integer
      - default: 10
        description: Items per page
        in: query
        maximum: 100
        minimum: 1
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Organization members retrieved successfully
          schema:
            $ref: '#/definitions/dto.PagedUserOrganizationResponse'
        "400":
          description: Invalid organization ID or query parameters
          schema:
            $ref: '#/definitions/apperror.AppError'
        "403":
          description: Insufficient permissions
          schema:
            $ref: '#/definitions/apperror.AppError'
        "404":
          description: Organization not found
          schema:
            $ref: '#/definitions/apperror.AppError'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/apperror.AppError'
      security:
      - BearerAuth: []
      summary: Get organization members
      tags:
      - Admin
      - Organizations
      - Users
  /admin/organizations/{organizationId}/user-history:
    get:
      description: Retrieves the user assignment history for an organization with
        pagination. Requires 'organizations:read-history' permission.
      parameters:
      - description: Organization ID
        format: uuid
        in: path
        name: organizationId
        required: true
        type: string
      - default: 1
        description: Page number
        in: query
        minimum: 1
        name: page
        type: integer
      - default: 10
        description: Items per page
        in: query
        maximum: 100
        minimum: 1
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Organization user history retrieved successfully
          schema:
            $ref: '#/definitions/dto.PagedUserOrganizationHistoryResponse'
        "400":
          description: Invalid organization ID or query parameters
          schema:
            $ref: '#/definitions/apperror.AppError'
        "403":
          description: Insufficient permissions
          schema:
            $ref: '#/definitions/apperror.AppError'
        "404":
          description: Organization not found
          schema:
            $ref: '#/definitions/apperror.AppError'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/apperror.AppError'
      security:
      - BearerAuth: []
      summary: Get organization user history
      tags:
      - Admin
      - Organizations
      - Users
  /admin/organizations/complete-structure:
    post:
      consumes:
      - application/json
      description: Creates holding->company->store structure and assigns user. Platform
        admin only.
      parameters:
      - description: Complete Structure Details
        in: body
        name: structure
        required: true
        schema:
          $ref: '#/definitions/dto.CreateCompleteStructureRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Complete structure created successfully
          schema:
            $ref: '#/definitions/dto.CompleteOrganizationStructureResponse'
        "400":
          description: Invalid request payload
          schema:
            $ref: '#/definitions/apperror.AppError'
        "403":
          description: Insufficient permissions - Platform level required
          schema:
            $ref: '#/definitions/apperror.AppError'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/apperror.AppError'
      security:
      - BearerAuth: []
      summary: Create complete organization structure
      tags:
      - Admin
      - Organizations
  /admin/permissions:
    get:
      consumes:
      - application/json
      description: Retrieves all available permissions in the system. Requires 'permissions:read'
        permission.
      produces:
      - application/json
      responses:
        "200":
          description: Permissions retrieved successfully
          schema:
            items:
              $ref: '#/definitions/dto.PermissionResponse'
            type: array
        "403":
          description: Insufficient permissions
          schema:
            $ref: '#/definitions/apperror.AppError'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/apperror.AppError'
      security:
      - BearerAuth: []
      summary: List all permissions
      tags:
      - Admin
      - Permissions
    post:
      consumes:
      - application/json
      description: Creates a new permission in the system. Requires 'permissions:create'
        permission.
      parameters:
      - description: New Permission Details
        in: body
        name: permission
        required: true
        schema:
          $ref: '#/definitions/dto.CreatePermissionRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Permission created successfully
          schema:
            $ref: '#/definitions/dto.PermissionResponse'
        "400":
          description: Invalid request payload
          schema:
            $ref: '#/definitions/apperror.AppError'
        "403":
          description: Insufficient permissions
          schema:
            $ref: '#/definitions/apperror.AppError'
        "409":
          description: Permission with that name already exists
          schema:
            $ref: '#/definitions/apperror.AppError'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/apperror.AppError'
      security:
      - BearerAuth: []
      summary: Create a new permission
      tags:
      - Admin
      - Permissions
  /admin/permissions/{id}:
    delete:
      consumes:
      - application/json
      description: Deletes a permission from the system. Cannot delete if permission
        is assigned to any roles. Requires 'permissions:delete' permission.
      parameters:
      - description: Permission ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Permission deleted successfully
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Invalid permission ID
          schema:
            $ref: '#/definitions/apperror.AppError'
        "403":
          description: Insufficient permissions
          schema:
            $ref: '#/definitions/apperror.AppError'
        "404":
          description: Permission not found
          schema:
            $ref: '#/definitions/apperror.AppError'
        "409":
          description: Cannot delete permission assigned to roles
          schema:
            $ref: '#/definitions/apperror.AppError'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/apperror.AppError'
      security:
      - BearerAuth: []
      summary: Delete a permission
      tags:
      - Admin
      - Permissions
    put:
      consumes:
      - application/json
      description: Updates an existing permission. Requires 'permissions:update' permission.
      parameters:
      - description: Permission ID
        in: path
        name: id
        required: true
        type: string
      - description: Updated Permission Details
        in: body
        name: permission
        required: true
        schema:
          $ref: '#/definitions/dto.UpdatePermissionRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Permission updated successfully
          schema:
            $ref: '#/definitions/dto.PermissionResponse'
        "400":
          description: Invalid request payload
          schema:
            $ref: '#/definitions/apperror.AppError'
        "403":
          description: Insufficient permissions
          schema:
            $ref: '#/definitions/apperror.AppError'
        "404":
          description: Permission not found
          schema:
            $ref: '#/definitions/apperror.AppError'
        "409":
          description: Permission name already exists
          schema:
            $ref: '#/definitions/apperror.AppError'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/apperror.AppError'
      security:
      - BearerAuth: []
      summary: Update a permission
      tags:
      - Admin
      - Permissions
  /admin/roles:
    get:
      consumes:
      - application/json
      description: Retrieves all roles below the current user's level (hierarchical
        access control). Requires 'roles:read' permission.
      produces:
      - application/json
      responses:
        "200":
          description: Roles retrieved successfully
          schema:
            items:
              $ref: '#/definitions/dto.RoleResponse'
            type: array
        "403":
          description: Insufficient permissions
          schema:
            $ref: '#/definitions/apperror.AppError'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/apperror.AppError'
      security:
      - BearerAuth: []
      summary: List roles based on user level
      tags:
      - Admin
      - Roles
    post:
      consumes:
      - application/json
      description: Creates a new role. Requires 'roles:create' permission.
      parameters:
      - description: New Role Details
        in: body
        name: role
        required: true
        schema:
          $ref: '#/definitions/dto.CreateRoleRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Role created successfully
          schema:
            $ref: '#/definitions/dto.RoleResponse'
        "400":
          description: Invalid request payload
          schema:
            $ref: '#/definitions/apperror.AppError'
        "403":
          description: Insufficient permissions
          schema:
            $ref: '#/definitions/apperror.AppError'
        "409":
          description: Role with that name already exists
          schema:
            $ref: '#/definitions/apperror.AppError'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/apperror.AppError'
      security:
      - BearerAuth: []
      summary: Create a new role
      tags:
      - Admin
      - Roles
  /admin/roles/{id}:
    put:
      consumes:
      - application/json
      description: Updates a role's basic information with hierarchical validation.
        Requires 'roles:update' permission.
      parameters:
      - description: Role ID
        in: path
        name: id
        required: true
        type: string
      - description: Updated role information
        in: body
        name: role
        required: true
        schema:
          $ref: '#/definitions/dto.UpdateRoleRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Role updated successfully
          schema:
            $ref: '#/definitions/dto.RoleResponse'
        "400":
          description: Invalid request payload or validation error
          schema:
            $ref: '#/definitions/apperror.AppError'
        "403":
          description: Insufficient permissions
          schema:
            $ref: '#/definitions/apperror.AppError'
        "404":
          description: Role not found
          schema:
            $ref: '#/definitions/apperror.AppError'
        "409":
          description: Role name conflict
          schema:
            $ref: '#/definitions/apperror.AppError'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/apperror.AppError'
      summary: Update role information
      tags:
      - Admin
      - Roles
  /admin/roles/{id}/permissions:
    put:
      consumes:
      - application/json
      description: Updates the list of permissions associated with a specific role.
        This action requires 'roles:assign' permission.
      parameters:
      - description: Role ID
        format: uuid
        in: path
        name: id
        required: true
        type: string
      - description: List of permission names
        in: body
        name: permissions
        required: true
        schema:
          $ref: '#/definitions/dto.UpdateRolePermissionsRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Role permissions updated successfully
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Invalid role ID format or validation failed
          schema:
            $ref: '#/definitions/apperror.AppError'
        "403":
          description: Insufficient permissions
          schema:
            $ref: '#/definitions/apperror.AppError'
        "404":
          description: Role not found
          schema:
            $ref: '#/definitions/apperror.AppError'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/apperror.AppError'
      security:
      - BearerAuth: []
      summary: Update permissions for a role
      tags:
      - Admin
      - Roles
  /admin/roles/organization-types:
    get:
      description: Retrieves all roles that are applicable to a specific organization
        type. Requires 'roles:read' permission.
      parameters:
      - description: Organization Type
        enum:
        - platform
        - holding
        - company
        - store
        in: query
        name: organization_type
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Roles retrieved successfully
          schema:
            items:
              $ref: '#/definitions/dto.RoleResponse'
            type: array
        "400":
          description: Invalid organization type
          schema:
            $ref: '#/definitions/apperror.AppError'
        "403":
          description: Insufficient permissions
          schema:
            $ref: '#/definitions/apperror.AppError'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/apperror.AppError'
      security:
      - BearerAuth: []
      summary: Get roles for organization type
      tags:
      - Admin
      - Roles
      - Organizations
  /admin/users:
    get:
      description: Retrieves a paginated list of users filtered based on the requesting
        user's level and organization context. Users can only see users with levels
        below their own level and from their accessible organizations.
      parameters:
      - default: 1
        description: Page number for pagination
        in: query
        name: page
        type: integer
      - default: 10
        description: Number of items per page for pagination
        in: query
        name: limit
        type: integer
      - description: Search term for username or email
        in: query
        name: search
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: A paginated list of filtered users
          schema:
            $ref: '#/definitions/dto.PagedUserResponse'
        "403":
          description: Insufficient permissions
          schema:
            $ref: '#/definitions/apperror.AppError'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/apperror.AppError'
      security:
      - BearerAuth: []
      summary: List users with level and organization filtering
      tags:
      - Admin
      - Users
    post:
      consumes:
      - application/json
      description: Creates a new user with the provided details. Requires 'users:create'
        permission.
      parameters:
      - description: New User Details
        in: body
        name: user
        required: true
        schema:
          $ref: '#/definitions/dto.CreateUserRequest'
      produces:
      - application/json
      responses:
        "201":
          description: User created successfully
          schema:
            $ref: '#/definitions/dto.UserResponse'
        "400":
          description: Invalid request payload
          schema:
            $ref: '#/definitions/apperror.AppError'
        "403":
          description: Insufficient permissions
          schema:
            $ref: '#/definitions/apperror.AppError'
        "409":
          description: Username or email already exists
          schema:
            $ref: '#/definitions/apperror.AppError'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/apperror.AppError'
      security:
      - BearerAuth: []
      summary: Create a new user
      tags:
      - Admin
      - Users
  /admin/users/{id}:
    delete:
      description: Deletes a user by their ID. Requires 'users:delete' permission.
      parameters:
      - description: User ID
        format: uuid
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "204":
          description: No Content
        "403":
          description: Insufficient permissions
          schema:
            $ref: '#/definitions/apperror.AppError'
        "404":
          description: User not found
          schema:
            $ref: '#/definitions/apperror.AppError'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/apperror.AppError'
      security:
      - BearerAuth: []
      summary: Delete a user
      tags:
      - Admin
      - Users
    get:
      description: Retrieves the details of a single user by their ID. Requires 'users:read'
        permission.
      parameters:
      - description: User ID
        format: uuid
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: User details
          schema:
            $ref: '#/definitions/dto.UserResponse'
        "403":
          description: Insufficient permissions
          schema:
            $ref: '#/definitions/apperror.AppError'
        "404":
          description: User not found
          schema:
            $ref: '#/definitions/apperror.AppError'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/apperror.AppError'
      security:
      - BearerAuth: []
      summary: Get a single user by ID
      tags:
      - Admin
      - Users
    put:
      consumes:
      - application/json
      description: Updates a user's details. Requires 'users:update' permission.
      parameters:
      - description: User ID
        format: uuid
        in: path
        name: id
        required: true
        type: string
      - description: User Details to Update
        in: body
        name: user
        required: true
        schema:
          $ref: '#/definitions/dto.UpdateUserRequest'
      produces:
      - application/json
      responses:
        "200":
          description: User updated successfully
          schema:
            $ref: '#/definitions/dto.UserResponse'
        "400":
          description: Invalid request payload or user ID
          schema:
            $ref: '#/definitions/apperror.AppError'
        "403":
          description: Insufficient permissions
          schema:
            $ref: '#/definitions/apperror.AppError'
        "404":
          description: User not found
          schema:
            $ref: '#/definitions/apperror.AppError'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/apperror.AppError'
      security:
      - BearerAuth: []
      summary: Update a user
      tags:
      - Admin
      - Users
  /admin/users/{userId}/organization-history:
    get:
      description: Retrieves the organization assignment history for a user. Requires
        'users:read-history' permission.
      parameters:
      - description: User ID
        format: uuid
        in: path
        name: userId
        required: true
        type: string
      - default: 1
        description: Page number
        in: query
        minimum: 1
        name: page
        type: integer
      - default: 10
        description: Items per page
        in: query
        maximum: 100
        minimum: 1
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: User organization history retrieved successfully
          schema:
            items:
              $ref: '#/definitions/dto.UserOrganizationHistoryResponse'
            type: array
        "400":
          description: Invalid user ID or query parameters
          schema:
            $ref: '#/definitions/apperror.AppError'
        "403":
          description: Insufficient permissions
          schema:
            $ref: '#/definitions/apperror.AppError'
        "404":
          description: User not found
          schema:
            $ref: '#/definitions/apperror.AppError'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/apperror.AppError'
      security:
      - BearerAuth: []
      summary: Get user's organization history
      tags:
      - Admin
      - Users
      - Organizations
  /admin/users/{userId}/organizations:
    get:
      description: Retrieves all organizations that a user belongs to with pagination.
        Requires 'users:read' permission.
      parameters:
      - description: User ID
        format: uuid
        in: path
        name: userId
        required: true
        type: string
      - default: 1
        description: Page number
        in: query
        minimum: 1
        name: page
        type: integer
      - default: 10
        description: Items per page
        in: query
        maximum: 100
        minimum: 1
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: User organizations retrieved successfully
          schema:
            $ref: '#/definitions/dto.PagedUserOrganizationResponse'
        "400":
          description: Invalid user ID or query parameters
          schema:
            $ref: '#/definitions/apperror.AppError'
        "403":
          description: Insufficient permissions
          schema:
            $ref: '#/definitions/apperror.AppError'
        "404":
          description: User not found
          schema:
            $ref: '#/definitions/apperror.AppError'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/apperror.AppError'
      security:
      - BearerAuth: []
      summary: Get user's organizations
      tags:
      - Admin
      - Users
      - Organizations
  /admin/users/{userId}/organizations/{organizationId}:
    delete:
      description: Removes a user from an organization. Requires 'users:remove-organization'
        permission.
      parameters:
      - description: User ID
        format: uuid
        in: path
        name: userId
        required: true
        type: string
      - description: Organization ID
        format: uuid
        in: path
        name: organizationId
        required: true
        type: string
      produces:
      - application/json
      responses:
        "204":
          description: No Content
        "400":
          description: Invalid user or organization ID
          schema:
            $ref: '#/definitions/apperror.AppError'
        "403":
          description: Insufficient permissions
          schema:
            $ref: '#/definitions/apperror.AppError'
        "404":
          description: User organization assignment not found
          schema:
            $ref: '#/definitions/apperror.AppError'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/apperror.AppError'
      security:
      - BearerAuth: []
      summary: Remove user from organization
      tags:
      - Admin
      - Users
      - Organizations
    put:
      consumes:
      - application/json
      description: Updates a user's role in an organization. Requires 'users:update-organization-role'
        permission.
      parameters:
      - description: User ID
        format: uuid
        in: path
        name: userId
        required: true
        type: string
      - description: Organization ID
        format: uuid
        in: path
        name: organizationId
        required: true
        type: string
      - description: Role Update Details
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dto.UpdateUserOrganizationRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Role updated successfully
          schema:
            $ref: '#/definitions/dto.UserOrganizationResponse'
        "400":
          description: Invalid request payload or IDs
          schema:
            $ref: '#/definitions/apperror.AppError'
        "403":
          description: Insufficient permissions
          schema:
            $ref: '#/definitions/apperror.AppError'
        "404":
          description: User organization assignment not found
          schema:
            $ref: '#/definitions/apperror.AppError'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/apperror.AppError'
      security:
      - BearerAuth: []
      summary: Update user's role in organization
      tags:
      - Admin
      - Users
      - Organizations
  /admin/users/assign-organization:
    post:
      consumes:
      - application/json
      description: Assigns a user to an organization with a specific role. Requires
        'users:assign-organization' permission.
      parameters:
      - description: Assignment Details
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dto.AssignUserToOrganizationRequest'
      produces:
      - application/json
      responses:
        "201":
          description: User assigned successfully
          schema:
            $ref: '#/definitions/dto.UserOrganizationResponse'
        "400":
          description: Invalid request payload
          schema:
            $ref: '#/definitions/apperror.AppError'
        "403":
          description: Insufficient permissions
          schema:
            $ref: '#/definitions/apperror.AppError'
        "404":
          description: User or organization not found
          schema:
            $ref: '#/definitions/apperror.AppError'
        "409":
          description: User already assigned to organization
          schema:
            $ref: '#/definitions/apperror.AppError'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/apperror.AppError'
      security:
      - BearerAuth: []
      summary: Assign user to organization
      tags:
      - Admin
      - Users
      - Organizations
  /admin/users/bulk-assign-organization:
    post:
      consumes:
      - application/json
      description: Assigns multiple users to an organization with the same role. Requires
        'users:bulk-assign-organization' permission.
      parameters:
      - description: Bulk Assignment Details
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dto.BulkAssignUsersToOrganizationRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Bulk assignment completed
          schema:
            $ref: '#/definitions/dto.BulkAssignResponse'
        "400":
          description: Invalid request payload
          schema:
            $ref: '#/definitions/apperror.AppError'
        "403":
          description: Insufficient permissions
          schema:
            $ref: '#/definitions/apperror.AppError'
        "404":
          description: Organization not found
          schema:
            $ref: '#/definitions/apperror.AppError'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/apperror.AppError'
      security:
      - BearerAuth: []
      summary: Bulk assign users to organization
      tags:
      - Admin
      - Users
      - Organizations
  /admin/users/log-organization-action:
    post:
      consumes:
      - application/json
      description: Manually logs a user organization action for audit purposes. Requires
        'users:log-actions' permission.
      parameters:
      - description: Action Log Details
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dto.LogUserOrganizationActionRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Action logged successfully
          schema:
            $ref: '#/definitions/dto.UserOrganizationHistoryResponse'
        "400":
          description: Invalid request payload
          schema:
            $ref: '#/definitions/apperror.AppError'
        "403":
          description: Insufficient permissions
          schema:
            $ref: '#/definitions/apperror.AppError'
        "404":
          description: User or organization not found
          schema:
            $ref: '#/definitions/apperror.AppError'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/apperror.AppError'
      security:
      - BearerAuth: []
      summary: Log user organization action
      tags:
      - Admin
      - Users
      - Organizations
  /auth/google/callback:
    get:
      description: Handles the callback from Google after successful authentication.
        This endpoint is not intended to be called directly by users.
      responses: {}
      summary: Google Callback
      tags:
      - Auth
  /auth/google/login:
    get:
      description: Redirects the user to Google's authentication page.
      responses: {}
      summary: Google Login
      tags:
      - Auth
  /auth/login:
    post:
      consumes:
      - application/json
      description: Authenticates a user and returns an access token. The refresh token
        is set in an HttpOnly cookie.
      parameters:
      - description: Login Credentials
        in: body
        name: credentials
        required: true
        schema:
          $ref: '#/definitions/dto.LoginRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Login successful
          schema:
            $ref: '#/definitions/dto.LoginResponse'
        "400":
          description: Invalid request payload
          schema:
            $ref: '#/definitions/apperror.AppError'
        "401":
          description: Invalid credentials
          schema:
            $ref: '#/definitions/apperror.AppError'
      summary: User Login
      tags:
      - Auth
  /auth/logout:
    post:
      consumes:
      - application/json
      description: Invalidates the refresh token and clears the session cookie.
      produces:
      - application/json
      responses:
        "200":
          description: Logout successful message
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Failed to read refresh token
          schema:
            $ref: '#/definitions/apperror.AppError'
      summary: Logout user
      tags:
      - Auth
  /auth/me:
    get:
      description: Returns the current authenticated user's information with their
        permissions.
      produces:
      - application/json
      responses:
        "200":
          description: Current user information
          schema:
            $ref: '#/definitions/dto.LoginResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/apperror.AppError'
      security:
      - BearerAuth: []
      summary: Get Current User Information
      tags:
      - Auth
  /auth/refresh:
    post:
      description: Generates a new access token using a valid refresh token from the
        cookie.
      produces:
      - application/json
      responses:
        "200":
          description: Token refreshed successfully
          schema:
            $ref: '#/definitions/dto.RefreshTokenResponse'
        "401":
          description: Unauthorized or invalid refresh token
          schema:
            $ref: '#/definitions/apperror.AppError'
      summary: Refresh Access Token
      tags:
      - Auth
  /auth/switch-organization:
    post:
      consumes:
      - application/json
      description: Switches the user's organization context and returns a new access
        token with the organization context
      parameters:
      - description: Organization switch request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dto.SwitchOrganizationRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Organization switched successfully
          schema:
            $ref: '#/definitions/dto.SwitchOrganizationResponse'
        "400":
          description: Bad request
          schema:
            $ref: '#/definitions/apperror.AppError'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/apperror.AppError'
        "403":
          description: Forbidden - No access to organization
          schema:
            $ref: '#/definitions/apperror.AppError'
      security:
      - BearerAuth: []
      summary: Switch Organization Context
      tags:
      - Auth
  /health/private:
    get:
      description: Endpoint ini memerlukan otentikasi.
      produces:
      - application/json
      responses:
        "200":
          description: '{"status": "ok", "message": "authenticated"}'
          schema:
            additionalProperties:
              type: string
            type: object
        "401":
          description: '{"error": "unauthorized"}'
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Private Health Check
      tags:
      - Health
  /health/public:
    get:
      description: Endpoint ini tidak memerlukan otentikasi.
      produces:
      - application/json
      responses:
        "200":
          description: '{"status": "ok"}'
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Public Health Check
      tags:
      - Health
  /organizations:
    get:
      consumes:
      - application/json
      description: Retrieves organizations with optional filters
      parameters:
      - description: Organization Type
        enum:
        - platform
        - company
        - store
        in: query
        name: type
        type: string
      - description: Parent Organization ID
        in: query
        name: parent_id
        type: string
      - description: Is Active
        in: query
        name: active
        type: boolean
      - default: 1
        description: Page number
        in: query
        name: page
        type: integer
      - default: 10
        description: Items per page
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Organizations retrieved successfully
          schema:
            items:
              $ref: '#/definitions/dto.OrganizationResponse'
            type: array
        "400":
          description: Invalid query parameters
          schema:
            $ref: '#/definitions/apperror.AppError'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/apperror.AppError'
      security:
      - BearerAuth: []
      summary: List organizations
      tags:
      - Organizations
  /organizations/{id}:
    get:
      consumes:
      - application/json
      description: Retrieves organization details by ID
      parameters:
      - description: Organization ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Organization retrieved successfully
          schema:
            $ref: '#/definitions/dto.OrganizationResponse'
        "404":
          description: Organization not found
          schema:
            $ref: '#/definitions/apperror.AppError'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/apperror.AppError'
      security:
      - BearerAuth: []
      summary: Get organization by ID
      tags:
      - Organizations
  /organizations/{id}/leave:
    delete:
      consumes:
      - application/json
      description: Allows a user to leave an organization
      parameters:
      - description: Organization ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "204":
          description: Successfully left organization
        "400":
          description: Invalid organization ID
          schema:
            $ref: '#/definitions/apperror.AppError'
        "404":
          description: Organization not found
          schema:
            $ref: '#/definitions/apperror.AppError'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/apperror.AppError'
      security:
      - BearerAuth: []
      summary: Leave organization
      tags:
      - Organizations
      - Users
  /organizations/{orgId}/users:
    get:
      description: Retrieves users within the current organization context. Organization
        ID is automatically injected by middleware.
      parameters:
      - description: Page number (1-based)
        in: query
        name: page
        type: integer
      - description: Number of items per page
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Organization-scoped user list
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad request - Missing organization context
          schema:
            $ref: '#/definitions/apperror.AppError'
        "403":
          description: Insufficient permissions
          schema:
            $ref: '#/definitions/apperror.AppError'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/apperror.AppError'
      security:
      - BearerAuth: []
      summary: List users by organization context
      tags:
      - Organization
      - Users
  /organizations/{orgId}/users/{userId}/assign-role:
    post:
      consumes:
      - application/json
      description: Assigns a specific role to a user within the current organization
        context. Demonstrates multi-tenant role isolation.
      parameters:
      - description: User ID
        format: uuid
        in: path
        name: userId
        required: true
        type: string
      - description: Role ID to assign
        format: uuid
        in: body
        name: roleId
        required: true
        schema:
          type: string
      produces:
      - application/json
      responses:
        "200":
          description: Role assigned successfully
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad request
          schema:
            $ref: '#/definitions/apperror.AppError'
        "403":
          description: Insufficient permissions
          schema:
            $ref: '#/definitions/apperror.AppError'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/apperror.AppError'
      security:
      - BearerAuth: []
      summary: Assign role to user in organization
      tags:
      - Organization
      - Users
      - Roles
  /organizations/{orgId}/users/{userId}/role:
    get:
      description: Retrieves the role assigned to a user within the current organization
        context.
      parameters:
      - description: User ID
        format: uuid
        in: path
        name: userId
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: User role information
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad request
          schema:
            $ref: '#/definitions/apperror.AppError'
        "403":
          description: Insufficient permissions
          schema:
            $ref: '#/definitions/apperror.AppError'
        "404":
          description: User not found in organization
          schema:
            $ref: '#/definitions/apperror.AppError'
      security:
      - BearerAuth: []
      summary: Get user role in organization
      tags:
      - Organization
      - Users
      - Roles
  /organizations/code/{code}:
    get:
      consumes:
      - application/json
      description: Retrieves organization details by code
      parameters:
      - description: Organization Code
        in: path
        name: code
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Organization retrieved successfully
          schema:
            $ref: '#/definitions/dto.OrganizationResponse'
        "404":
          description: Organization not found
          schema:
            $ref: '#/definitions/apperror.AppError'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/apperror.AppError'
      security:
      - BearerAuth: []
      summary: Get organization by code
      tags:
      - Organizations
  /organizations/join:
    post:
      consumes:
      - application/json
      description: Allows a user to join an organization using organization code
      parameters:
      - description: Join Organization Request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dto.JoinOrganizationRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Successfully joined organization
          schema:
            $ref: '#/definitions/dto.UserOrganizationResponse'
        "400":
          description: Invalid request payload
          schema:
            $ref: '#/definitions/apperror.AppError'
        "404":
          description: Organization not found
          schema:
            $ref: '#/definitions/apperror.AppError'
        "409":
          description: User already member of organization
          schema:
            $ref: '#/definitions/apperror.AppError'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/apperror.AppError'
      security:
      - BearerAuth: []
      summary: Join organization
      tags:
      - Organizations
      - Users
  /organizations/statistics:
    get:
      consumes:
      - application/json
      description: Retrieves organization statistics filtered by user level (platform
        shows all, company shows only stores, etc)
      produces:
      - application/json
      responses:
        "200":
          description: Organization statistics retrieved successfully
          schema:
            $ref: '#/definitions/dto.OrganizationStatisticsResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/apperror.AppError'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/apperror.AppError'
      security:
      - BearerAuth: []
      summary: Get organization statistics
      tags:
      - Organizations
      - Statistics
  /roles/predefined-options:
    get:
      consumes:
      - application/json
      description: Retrieves available predefined role templates for role creation
        based on user's level (hierarchical access control). Requires 'roles:create'
        permission.
      produces:
      - application/json
      responses:
        "200":
          description: Predefined role options retrieved successfully
          schema:
            items:
              $ref: '#/definitions/dto.PredefinedRoleOption'
            type: array
        "403":
          description: Insufficient permissions
          schema:
            $ref: '#/definitions/apperror.AppError'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/apperror.AppError'
      summary: Get predefined role options
      tags:
      - Admin
      - Roles
  /users/me/organizations:
    get:
      consumes:
      - application/json
      description: Retrieves all organizations for the current user
      produces:
      - application/json
      responses:
        "200":
          description: User organizations retrieved successfully
          schema:
            items:
              $ref: '#/definitions/dto.UserOrganizationResponse'
            type: array
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/apperror.AppError'
      security:
      - BearerAuth: []
      summary: Get user organizations
      tags:
      - Organizations
      - Users
securityDefinitions:
  BearerAuth:
    in: header
    name: Authorization
    type: apiKey
swagger: "2.0"
